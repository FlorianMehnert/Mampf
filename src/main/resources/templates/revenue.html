<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
            integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
            crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx"
            crossorigin="anonymous"></script>
    <link rel="icon" type="image/vnd.microsoft.icon" th:href="@{/resources/img/cook_icon.ico}">
    <link rel="stylesheet" type="text/css" th:href="@{/resources/css/style.css}"/>

    <!-- Bootstrap -->
    <!-- CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
          integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <title th:text="#{revenue.title}"></title>
</head>

<body>
<nav th:include="navigation :: navigation"></nav>
<div class="container pb-5">
    <header>
        <style>
            a {
                color: #495057;
            }
        </style>
        <h1 th:text="#{revenue.title}">Umsatz</h1>
    </header>
    <p>
        Die Umsätze werden nach dem Erstellungsdatum angezeigt, nicht nach dem Datum, an dem sie stattfinden.
    </p>
    <form th:action="@{/revenue}" method="get">
        <input type="date" name="startDateString" th:value="${startDateString}">
        <input type="date" name="endDateString" th:value="${endDateString}">
        <input type="Submit">
    </form>

    <table class="table table-hover">
        <thead class="thead-light">
        <tr>
            <th>Name</th>
            <th>Kategorie</th>
            <th>Preis pro Stück</th>
            <th>Anzahl</th>
            <th>Preis gesamt</th>
        </tr>
        </thead>
        <tbody th:remove="all-but-first">
        <tr th:each="gain : ${gains}">

            <td th:text="${gain.key.getName()}"></td>
            <td th:text="${gain.key.getCategories().toList()}"></td>
            <td th:text="${gain.key.price}" class="text-left">name</td>
            <td th:text="${{gain.value.first}}" class="text-left">quantity</td>
            <td th:text="${{gain.value.second.multiply(gain.value.first.getAmount())}}" class="text-left">quantity</td>
        </tr>
        </tbody>
    </table>
    <div>
        <b>Gesamtsumme: <span th:text="${{total}}"></span></b>
    </div>
</div>
</body>
</html>